<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>C√°lculo de Frete por Rota</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- LEAFLET -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<style>
:root{
  --azul:#0d47a1;
  --vermelho:#c62828;
  --cinza:#e0e0e0;
  --verde:#2e7d32;
}

/* BASE */
body{
  margin:0;padding:20px;
  font-family:Arial,Helvetica,sans-serif;
  background:linear-gradient(135deg,var(--azul),var(--vermelho))
}
.container{
  max-width:1300px;margin:auto;background:#fff;
  border-radius:14px;
  box-shadow:0 20px 40px rgba(0,0,0,.35)
}
.header{
  background:linear-gradient(90deg,var(--azul),var(--vermelho));
  color:#fff;padding:18px;text-align:center
}
.content{padding:25px}

/* WIZARD */
.wizard{
  display:flex;
  justify-content:space-between;
  margin:20px 0 30px;
}
.wizard-step{
  flex:1;
  text-align:center;
  font-size:13px;
  color:#999;
  position:relative;
}
.wizard-step::after{
  content:"";
  position:absolute;
  top:12px;right:-50%;
  width:100%;height:2px;
  background:#ddd;
}
.wizard-step:last-child::after{display:none}
.wizard-step span{
  display:inline-block;
  padding:6px 14px;
  border-radius:20px;
  background:#eee;
}
.wizard-step.active span{
  background:var(--azul);
  color:#fff;
}
.wizard-step.done span{
  background:var(--verde);
  color:#fff;
}

/* INPUTS */
input,select{
  width:100%;padding:7px;
  border:1px solid #ccc;border-radius:6px;
  font-size:13px
}
input:disabled,select:disabled{background:#eee}
.uppercase{text-transform:uppercase}

/* GRID */
.grid{
  display:grid;
  grid-template-columns:2fr 1fr;
  gap:15px;
  margin-bottom:20px
}

/* TABLE */
table{
  width:100%;
  border-collapse:collapse;
  margin-top:15px
}
th,td{
  border:1px solid #999;
  padding:6px;
  font-size:12px;
  text-align:center
}
th{background:#e3f2fd}

/* ACTIONS */
.actions{
  display:flex;
  gap:12px;
  margin-top:25px
}
.actions button{
  flex:1;
  padding:14px;
  background:linear-gradient(90deg,var(--azul),var(--vermelho));
  color:#fff;border:none;
  border-radius:10px;
  font-size:15px;
  cursor:pointer
}

/* ANIMA√á√ïES */
.fade-in{
  animation:fadeIn .4s ease
}
.slide-up{
  animation:slideUp .4s ease
}
@keyframes fadeIn{
  from{opacity:0}
  to{opacity:1}
}
@keyframes slideUp{
  from{opacity:0;transform:translateY(10px)}
  to{opacity:1;transform:translateY(0)}
}

/* MAPA */
.mapa-box{
  margin-top:30px;
  padding:15px;
  border-radius:12px;
  background:#f5f7fa;
  box-shadow:0 10px 20px rgba(0,0,0,.15);
  display:none
}
.mapa-box h3{
  margin:0 0 10px;
  color:#0d47a1;
  font-size:16px
}
#mapaRota{
  height:420px;
  border-radius:10px;
  border:3px solid var(--azul)
}

/* RESUMO */
.resumo-box{
  margin:35px auto;
  max-width:1100px;
  border:3px solid var(--azul);
  padding:20px;
  border-radius:12px;
  background:#f9fbff;
  text-align:center
}
.total-row{
  background:#e3f2fd;
  font-weight:bold
}

/* FOOTER */
.footer{
  text-align:center;
  margin-top:30px;
  font-size:12px;
  color:#555
}
</style>
</head>

<body>

<div class="container">
  <div class="header">
    <h2>C√ÅLCULO DE FRETE POR ROTA</h2>
  </div>

  <div class="content">

    <!-- WIZARD -->
    <div class="wizard">
      <div class="wizard-step active" id="w1"><span>1. Caminh√£o</span></div>
      <div class="wizard-step" id="w2"><span>2. Carga</span></div>
      <div class="wizard-step" id="w3"><span>3. Rota</span></div>
      <div class="wizard-step" id="w4"><span>4. Frete</span></div>
    </div>

    <!-- SELE√á√ÉO -->
    <div class="grid">
      <div>
        <label>Tipo de Caminh√£o</label>
        <select id="tipo" onchange="gerarTabela();ativarWizard(2)">
          <option value="">Selecione</option>
          <option value="FROTA">FROTA</option>
          <option value="BITRUCK">BITRUCK</option>
          <option value="TRUCK_555">TRUCK 555</option>
          <option value="TRUCK_5532">TRUCK 5532</option>
          <option value="TRUCK_53232">TRUCK 53232</option>
          <option value="TOCO">TOCO</option>
          <option value="CARRETA">CARRETA</option>
        </select>
      </div>
      <div>
        <label>KM TOTAL DA ROTA</label>
        <input id="kmTotal" readonly>
      </div>
    </div>

    <div id="tabela" class="fade-in"></div>

    <!-- MAPA -->
    <div class="mapa-box slide-up" id="mapaBox">
      <h3>üìç Rota Otimizada</h3>
      <div id="mapaRota"></div>
    </div>

    <!-- BOT√ïES -->
    <div class="actions">
      <button id="btnCalcular" onclick="calcular();ativarWizard(4)" disabled>Calcular Frete</button>
      <button id="btnOtimizar" onclick="otimizarRota();ativarWizard(3)">Otimizar Rota</button>
      <button onclick="location.reload()">Novo C√°lculo</button>
    </div>

    <div id="resumo" class="slide-up"></div>

    <div class="footer">¬© Renato Monteiro</div>

  </div>
</div>

<script>
/* ===== WIZARD VISUAL (SEM L√ìGICA) ===== */
function ativarWizard(etapa){
  for(let i=1;i<=4;i++){
    const el=document.getElementById("w"+i);
    el.classList.remove("active","done");
    if(i<etapa) el.classList.add("done");
    if(i===etapa) el.classList.add("active");
  }
}

/* ===== MAPA VISUAL ===== */
function mostrarMapa(){
  document.getElementById("mapaBox").style.display="block";
}
</script>

</body>
</html>
