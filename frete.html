<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Cálculo de Frete por Rota</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<style>
:root{--azul:#0d47a1;--vermelho:#c62828}

body{
  margin:0;
  padding:20px;
  font-family:Arial,Helvetica,sans-serif;
  background:linear-gradient(135deg,var(--azul),var(--vermelho));
  letter-spacing:0.2px;
}

.container{
  max-width:1300px;
  margin:auto;
  background:#fff;
  border-radius:12px;
  box-shadow:0 20px 40px rgba(0,0,0,.35)
}

.header{
  background:linear-gradient(90deg,var(--azul),var(--vermelho));
  color:#fff;
  padding:18px;
  text-align:center
}

.content{padding:25px}

input,select{
  width:100%;
  padding:7px;
  border:2px solid #d0d7e2;
  border-radius:5px;
  font-size:13px;
  background:#fff
}

input:focus{
  outline:none;
  border-color:var(--azul);
  box-shadow:0 0 0 2px rgba(13,71,161,.15)
}

input:disabled,select:disabled{
  background:#f1f3f6;
  color:#555;
  cursor:not-allowed
}

.uppercase{text-transform:uppercase}

.grid{
  display:grid;
  grid-template-columns:2fr 1fr;
  gap:15px;
  margin-bottom:20px
}

table{
  width:100%;
  border-collapse:collapse;
  margin-top:15px
}

th,td{
  border:1px solid #999;
  padding:6px;
  font-size:12px;
  text-align:center
}

th{
  background:#e3f2fd;
  letter-spacing:0.4px
}

table tr:nth-child(even){
  background:#fafafa
}

.actions{
  display:flex;
  gap:12px;
  margin-top:20px
}

.actions button{
  flex:1;
  padding:14px;
  background:linear-gradient(90deg,var(--azul),var(--vermelho));
  color:#fff;
  border:none;
  border-radius:8px;
  font-size:15px;
  cursor:pointer
}

.btn-destaque{
  animation:pulse 1.5s infinite;
  background:linear-gradient(90deg,#1b5e20,#2e7d32) !important
}

@keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(27,94,32,.6)}
  70%{box-shadow:0 0 0 14px rgba(27,94,32,0)}
  100%{box-shadow:0 0 0 0 rgba(27,94,32,0)}
}

.spinner-overlay{
  position:fixed;
  inset:0;
  background:rgba(255,255,255,.85);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:9999;
  flex-direction:column
}

.spinner{
  width:70px;
  height:70px;
  border:8px solid #ddd;
  border-top:8px solid var(--azul);
  border-radius:50%;
  animation:spin 1s linear infinite
}

@keyframes spin{to{transform:rotate(360deg)}}

.alerta-parcial{
  margin:20px auto;
  padding:16px;
  max-width:900px;
  border-radius:10px;
  background:#fff3e0;
  border:3px solid #f57c00;
  color:#e65100;
  font-weight:bold;
  text-align:center;
  font-size:16px;
  box-shadow:0 4px 10px rgba(0,0,0,0.15)
}

.resumo-box{
  margin:30px auto;
  max-width:1100px;
  background:#f5f9ff;
  border:3px solid var(--azul);
  border-top:8px solid var(--vermelho);
  padding:20px;
  border-radius:10px;
  text-align:center
}

.resumo-box h3{
  margin-top:0;
  font-size:18px;
  letter-spacing:.5px
}

.total-row{
  background:#e3f2fd !important;
  font-weight:bold;
  font-size:13px
}

#mapaRota{
  margin-top:25px;
  height:420px;
  border-radius:10px;
  border:3px solid var(--azul);
  display:none
}

.footer{
  text-align:center;
  margin-top:30px;
  font-size:12px;
  color:#555
}
</style>
</head>

<body>

<!-- O RESTANTE DO CÓDIGO (HTML + JS) PERMANECE EXATAMENTE IGUAL
     AO ÚLTIMO QUE VOCÊ CONFIRMOU COMO FUNCIONANDO -->

<!-- ⚠️ Não mexi em nenhuma função, cálculo ou lógica -->

</body>
</html>
