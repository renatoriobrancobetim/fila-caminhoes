<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Rendimento de Frete</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family: Arial, Helvetica, sans-serif;
  background:#f4f6f8;
  margin:0;
  padding:20px;
}
.container{
  max-width:1000px;
  margin:auto;
  background:#fff;
  padding:24px;
  border-radius:8px;
  box-shadow:0 4px 12px rgba(0,0,0,.08);
}
h2{
  margin-top:0;
  text-align:center;
}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:16px;
}
label{
  font-weight:bold;
  font-size:14px;
}
input{
  width:100%;
  padding:8px;
  font-size:14px;
}
button{
  margin-top:20px;
  padding:12px;
  width:100%;
  font-size:16px;
  font-weight:bold;
  background:#1976d2;
  color:#fff;
  border:none;
  border-radius:6px;
  cursor:pointer;
}
button:hover{
  background:#125aa0;
}
.resultado{
  margin-top:30px;
  padding:20px;
  border-radius:6px;
}
.viavel{background:#e8f5e9;border-left:6px solid #2e7d32;}
.limite{background:#fff8e1;border-left:6px solid #f9a825;}
.inviavel{background:#fdecea;border-left:6px solid #c62828;}
.badge{
  display:inline-block;
  padding:6px 10px;
  border-radius:4px;
  font-weight:bold;
  margin-bottom:10px;
}
.badge.viavel{background:#2e7d32;color:#fff;}
.badge.limite{background:#f9a825;color:#000;}
.badge.inviavel{background:#c62828;color:#fff;}
table{
  width:100%;
  border-collapse:collapse;
  margin-top:15px;
}
th,td{
  padding:8px;
  border-bottom:1px solid #ddd;
  text-align:right;
}
th:first-child,td:first-child{
  text-align:left;
}
.footer{
  text-align:center;
  margin-top:20px;
  color:#777;
  font-size:13px;
}
</style>
</head>

<body>

<div class="container">
<h2>üìä C√°lculo de Rendimento de Frete</h2>

<div class="grid">
  <div>
    <label>Receita do Frete (R$)</label>
    <input id="receita" type="number" step="0.01">
  </div>
  <div>
    <label>Dist√¢ncia Total (km)</label>
    <input id="km" type="number" step="0.01">
  </div>
  <div>
    <label>Tempo Gasto (dias)</label>
    <input id="dias" type="number" step="0.1">
  </div>
  <div>
    <label>N¬∫ de Entregas</label>
    <input id="entregas" type="number">
  </div>
  <div>
    <label>Consumo M√©dio (km/L)</label>
    <input id="consumo" type="number" step="0.1">
  </div>
  <div>
    <label>Valor Diesel (R$/L)</label>
    <input id="diesel" type="number" step="0.01">
  </div>
  <div>
    <label>Custos Fixos Mensais (R$)</label>
    <input id="custosFixos" type="number" step="0.01">
  </div>
</div>

<button onclick="calcular()">Calcular Rendimento</button>

<div id="saida"></div>

<div class="footer">¬© Sistema de Rendimento de Frete</div>
</div>

<script>
function moeda(v){
  return v.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});
}

function calcular(){
  const receita = +receitaInput.value;
  const km = +kmInput.value;
  const dias = +diasInput.value;
  const entregas = +entregasInput.value;
  const consumo = +consumoInput.value;
  const dieselValor = +dieselInput.value;
  const custosFixos = +custosFixosInput.value;

  if(!receita || !km || !dias || !entregas || !consumo || !dieselValor){
    alert("Preencha todos os campos corretamente.");
    return;
  }

  const diesel = (km / consumo) * dieselValor;
  const custoFixoViagem = custosFixos / entregas;
  const custoTotal = diesel + custoFixoViagem;

  const lucro = receita - custoTotal;
  const margem = (lucro / receita) * 100;
  const lucroKm = lucro / km;
  const lucroDia = lucro / dias;

  let status, classe;
  if(margem >= 15){
    status = "VI√ÅVEL";
    classe = "viavel";
  }else if(margem >= 8){
    status = "NO LIMITE";
    classe = "limite";
  }else{
    status = "INVI√ÅVEL";
    classe = "inviavel";
  }

  saida.innerHTML = `
    <div class="resultado ${classe}">
      <span class="badge ${classe}">${status}</span>

      <table>
        <tr><th>Receita</th><td>${moeda(receita)}</td></tr>
        <tr><th>Diesel</th><td>${moeda(diesel)}</td></tr>
        <tr><th>Custos Fixos Rateados</th><td>${moeda(custoFixoViagem)}</td></tr>
        <tr><th>Custo Total</th><td>${moeda(custoTotal)}</td></tr>
        <tr><th>Lucro</th><td>${moeda(lucro)}</td></tr>
        <tr><th>Margem</th><td>${margem.toFixed(2)}%</td></tr>
        <tr><th>Lucro por km</th><td>${moeda(lucroKm)}</td></tr>
        <tr><th>Lucro por dia</th><td>${moeda(lucroDia)}</td></tr>
      </table>
    </div>
  `;
}

const receitaInput = document.getElementById("receita");
const kmInput = document.getElementById("km");
const diasInput = document.getElementById("dias");
const entregasInput = document.getElementById("entregas");
const consumoInput = document.getElementById("consumo");
const dieselInput = document.getElementById("diesel");
const custosFixosInput = document.getElementById("custosFixos");
const saida = document.getElementById("saida");
</script>

</body>
</html>
