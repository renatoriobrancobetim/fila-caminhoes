<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Fila de Caminh√µes | Rio Branco</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:#0A3D91;
  color:#fff;
}
header{
  background:#0A3D91;
  padding:20px;
  border-bottom:6px solid #D71920;
  text-align:center;
}
h1{margin:0;}
.container{
  padding:20px;
}
.proximo{
  background:#D71920;
  padding:20px;
  border-radius:10px;
  text-align:center;
  margin-bottom:20px;
  font-size:26px;
  font-weight:bold;
}
table{
  width:100%;
  border-collapse:collapse;
  background:#fff;
  color:#000;
}
th,td{
  padding:12px;
  border:1px solid #ddd;
  text-align:center;
}
th{
  background:#0A3D91;
  color:#fff;
}
tr:first-child{
  background:#FFF3CD;
  font-weight:bold;
}
</style>
</head>

<body>

<header>
  <h1>Rio Branco Distribuidora de Combust√≠veis</h1>
  <p>Fila de Espera de Caminh√µes</p>
</header>

<div class="container">
  <div class="proximo" id="proximo">Carregando...</div>

  <table>
    <thead>
      <tr>
        <th>Ordem</th>
        <th>Placa</th>
        <th>Compartimento</th>
        <th>Data</th>
        <th>Hora</th>
      </tr>
    </thead>
    <tbody id="fila"></tbody>
  </table>
</div>

<script>
const url = "https://script.google.com/macros/s/AKfycbw8Q_Vdwc3xzrseM4uIR_tzWXFdRyFaqwhWibLYprgNfzplkfsBZ5j_yE4CitRfVTKg/exec";

async function carregar(){
  const r = await fetch(url);
  const t = await r.text();
  const l = t.trim().split("\n").slice(1);

  const tbody = document.getElementById("fila");
  const prox = document.getElementById("proximo");
  tbody.innerHTML = "";

  if(l.length === 0){
    prox.textContent = "Fila vazia";
    return;
  }

  l.forEach((x,i)=>{
    const c = x.split(",");
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${c[0]}</td>
      <td>${c[1]}</td>
      <td>${c[2]}</td>
      <td>${c[3]}</td>
      <td>${c[4]}</td>
    `;
    tbody.appendChild(tr);
  });

  prox.textContent = `üîî Pr√≥ximo: ${l[0].split(",")[1]} ‚Ä¢ Comp. ${l[0].split(",")[2]}`;
}

carregar();
setInterval(carregar, 10000);
</script>

</body>
</html>
